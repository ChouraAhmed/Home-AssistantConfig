- id: lr_dimmer
  alias: Dimming
  hide_entity: True
  initial_state: on
  trigger:
    platform: state
    entity_id: input_number.lr_dimmer
  action:
    - service: mqtt.publish
      data_template:
        topic: RoomAhmedDimmerLamp
        payload: "{{states('input_number.lr_dimmer') | int}}"
        retain: true
    - data:
        entity_id: light.dimmer_lamp
      service: light.turn_on
